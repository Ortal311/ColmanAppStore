@model ColmanAppStore.Models.App

@{
    ViewData["Title"] = "Graph";
    <link rel="stylesheet" href="~/css/appStyle.css" />

}

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<body>

    <canvas id="myChart" style="height: 370px; width: 100%; padding:20px;"></canvas>
    <script>
        const xValues = @Html.Raw(ViewData["GraphUsageX"]);
        const yValues = @Html.Raw(ViewData["GraphUsageY"]);
        var barColors = [

            "#e8c3b9",
            "#b91d47",
            "#e8c3b9",
            "#00aba9",
            "#2b5797",
            "#e8c3b9",
            "#1e7145"
        ];

        new Chart("myChart", {
            type: "doughnut",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                }]
            },
            options: {
                title: {
                    display: true,
                    text: "Apps usage in Colamn App Store",
                    fontSize: 40,
                    fontColor: "black"
                }
            }
        });
    </script>

</body>

<br></br>

@*@Graph 2@*@
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
            // const { map } = require("jquery");
            const map = @Html.Raw(ViewData["Graphs"]);
           // console.log(map);

              window.onload = function () {
                var dataPoint = [];
                var chart = new CanvasJS.Chart("chartContainer", {
                    theme: "light1", // "light2", "dark1", "dark2"
                    //move
                    animationEnabled: true, // change to true
                    title: {
                        text: "Popular downloaded apps",
                        fontColor: "black"
                    },
                    data:
                        [{
                            type: "column",
                            dataPoints: map

                        }]
                });
                  /*$.each(function (key, value) {
                      dataPoint.push({ x: value[0], y: parseInt(value[1]) });
                  });*/

                chart.render();
            }
</script>
<body>
    <div id="chartContainer" style="height: 370px; width: 100%;"></div>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
